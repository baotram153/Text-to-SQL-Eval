[{"name":"meta_request.log","payload":{"filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument","message":"Processing by Api::V2::AiController#answer as JSON","level":"info"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument","message":"  Parameters: {\"job_id\"=\u003e\"432\", :format=\u003e:json, :controller=\u003e\"api/v2/ai\", :action=\u003e\"answer\"}","level":"info"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument","message":"  \u001b[1m\u001b[36mUser Load (0.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = $1 ORDER BY \"users\".\"id\" ASC LIMIT $2 /*application:Holistics,hostname:holiminipc,controller_with_namespace:Api::V2::AiController,action:answer,line:/app/controllers/api/v2/api_controller.rb:136:in `block in authenticate_user!',pid:1190274*/\u001b[0m  [[\"id\", 1], [\"LIMIT\", 1]]","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument","message":"  ↳ config/initializers/lograge.rb:13:in `instrument'","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"sql.active_record","payload":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = $1 ORDER BY \"users\".\"id\" ASC LIMIT $2 /*application:Holistics,hostname:holiminipc,controller_with_namespace:Api::V2::AiController,action:answer,line:/app/controllers/api/v2/api_controller.rb:136:in `block in authenticate_user!',pid:1190274*/","name":"User Load","binds":[{"name":"id","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":8,"range":"-9223372036854775808...9223372036854775808"},"original_attribute":null,"value":1,"value_for_database":1,"_unboundable":null},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"type_casted_binds":[1,1],"statement_name":"a69","connection":"Not JSON Encodable","filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument"},"time":"2025-07-18T17:46:52.833+07:00","transaction_id":"d5b6a5cde3d8ef9c6a68","end":"2025-07-18T17:46:52.834+07:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.8998689999999999},{"name":"meta_request.log","payload":{"filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument","message":"  \u001b[1m\u001b[36mTenant Load (0.3ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"tenants\".* FROM \"tenants\" WHERE \"tenants\".\"id\" = $1 LIMIT $2 /*application:Holistics,hostname:holiminipc,controller_with_namespace:Api::V2::AiController,action:answer,line:/app/models/user.rb:175:in `timeout_in',pid:1190274*/\u001b[0m  [[\"id\", 1], [\"LIMIT\", 1]]","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument","message":"  ↳ config/initializers/lograge.rb:13:in `instrument'","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"sql.active_record","payload":{"sql":"SELECT \"tenants\".* FROM \"tenants\" WHERE \"tenants\".\"id\" = $1 LIMIT $2 /*application:Holistics,hostname:holiminipc,controller_with_namespace:Api::V2::AiController,action:answer,line:/app/models/user.rb:175:in `timeout_in',pid:1190274*/","name":"Tenant Load","binds":[{"name":"id","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":8,"range":"-9223372036854775808...9223372036854775808"},"original_attribute":null,"value":1,"value_for_database":1},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"type_casted_binds":[1,1],"statement_name":"a70","connection":"Not JSON Encodable","filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument"},"time":"2025-07-18T17:46:52.835+07:00","transaction_id":"d5b6a5cde3d8ef9c6a68","end":"2025-07-18T17:46:52.836+07:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.941071},{"name":"meta_request.log","payload":{"filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument","message":"  \u001b[1m\u001b[36mTenantSubscription Load (0.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"tenant_subscriptions\".* FROM \"tenant_subscriptions\" WHERE \"tenant_subscriptions\".\"tenant_id\" = $1 LIMIT $2 /*application:Holistics,hostname:holiminipc,controller_with_namespace:Api::V2::AiController,action:answer,line:/app/models/concerns/tenants/subscriptions.rb:31:in `trial_expired?',pid:1190274*/\u001b[0m  [[\"tenant_id\", 1], [\"LIMIT\", 1]]","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument","message":"  ↳ config/initializers/lograge.rb:13:in `instrument'","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"sql.active_record","payload":{"sql":"SELECT \"tenant_subscriptions\".* FROM \"tenant_subscriptions\" WHERE \"tenant_subscriptions\".\"tenant_id\" = $1 LIMIT $2 /*application:Holistics,hostname:holiminipc,controller_with_namespace:Api::V2::AiController,action:answer,line:/app/models/concerns/tenants/subscriptions.rb:31:in `trial_expired?',pid:1190274*/","name":"TenantSubscription Load","binds":[{"name":"tenant_id","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":8,"range":"-9223372036854775808...9223372036854775808"},"original_attribute":null,"value":1,"value_for_database":1},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"type_casted_binds":[1,1],"statement_name":"a71","connection":"Not JSON Encodable","filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument"},"time":"2025-07-18T17:46:52.838+07:00","transaction_id":"d5b6a5cde3d8ef9c6a68","end":"2025-07-18T17:46:52.839+07:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":1.064965},{"name":"meta_request.log","payload":{"filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument","message":"  \u001b[1m\u001b[36mSamlProvider Load (0.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"saml_providers\".* FROM \"saml_providers\" WHERE \"saml_providers\".\"tenant_id\" = $1 LIMIT $2 /*application:Holistics,hostname:holiminipc,controller_with_namespace:Api::V2::AiController,action:answer,line:/app/models/tenant.rb:312:in `saml_sso_enabled?',pid:1190274*/\u001b[0m  [[\"tenant_id\", 1], [\"LIMIT\", 1]]","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument","message":"  ↳ config/initializers/lograge.rb:13:in `instrument'","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"sql.active_record","payload":{"sql":"SELECT \"saml_providers\".* FROM \"saml_providers\" WHERE \"saml_providers\".\"tenant_id\" = $1 LIMIT $2 /*application:Holistics,hostname:holiminipc,controller_with_namespace:Api::V2::AiController,action:answer,line:/app/models/tenant.rb:312:in `saml_sso_enabled?',pid:1190274*/","name":"SamlProvider Load","binds":[{"name":"tenant_id","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":8,"range":"-9223372036854775808...9223372036854775808"},"original_attribute":null,"value":1,"value_for_database":1},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"type_casted_binds":[1,1],"statement_name":"a72","connection":"Not JSON Encodable","filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument"},"time":"2025-07-18T17:46:52.840+07:00","transaction_id":"d5b6a5cde3d8ef9c6a68","end":"2025-07-18T17:46:52.841+07:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.761678},{"name":"meta_request.log","payload":{"filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument","message":"  \u001b[1m\u001b[36mJob Load (0.5ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"jobs\".* FROM \"jobs\" WHERE (jobs.created_at \u003e= '2025-06-18T10:46:52Z') AND \"jobs\".\"id\" = $1 LIMIT $2 /*application:Holistics,hostname:holiminipc,controller_with_namespace:Api::V2::AiController,action:answer,line:/app/controllers/api/v2/ai_controller.rb:58:in `answer',pid:1190274*/\u001b[0m  [[\"id\", 432], [\"LIMIT\", 1]]","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument","message":"  ↳ config/initializers/lograge.rb:13:in `instrument'","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"sql.active_record","payload":{"sql":"SELECT \"jobs\".* FROM \"jobs\" WHERE (jobs.created_at \u003e= '2025-06-18T10:46:52Z') AND \"jobs\".\"id\" = $1 LIMIT $2 /*application:Holistics,hostname:holiminipc,controller_with_namespace:Api::V2::AiController,action:answer,line:/app/controllers/api/v2/ai_controller.rb:58:in `answer',pid:1190274*/","name":"Job Load","binds":[{"name":"id","value_before_type_cast":"432","type":{"precision":null,"scale":null,"limit":8,"range":"-9223372036854775808...9223372036854775808"},"original_attribute":null,"value":"432","value_for_database":432,"_unboundable":null},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"type_casted_binds":[432,1],"statement_name":null,"connection":"Not JSON Encodable","filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument"},"time":"2025-07-18T17:46:52.843+07:00","transaction_id":"d5b6a5cde3d8ef9c6a68","end":"2025-07-18T17:46:52.844+07:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":1.042972},{"name":"meta_request.log","payload":{"filename":"/home/holistics/source/holistics/config/initializers/lograge.rb","line":13,"method":"instrument","message":null,"level":"info"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"process_action.action_controller","payload":{"controller":"Api::V2::AiController","action":"answer","request":"Not JSON Encodable","params":{"job_id":"432","format":"json","controller":"api/v2/ai","action":"answer"},"headers":{"SCRIPT_NAME":"","QUERY_STRING":"job_id=432","SERVER_SOFTWARE":"puma 6.4.3 The Eagle of Durango","GATEWAY_INTERFACE":"CGI/1.2","REQUEST_METHOD":"GET","REQUEST_PATH":"/api/v2/ai/answer","REQUEST_URI":"/api/v2/ai/answer?job_id=432","SERVER_PROTOCOL":"HTTP/1.1","HTTP_HOST":"localhost:3000","HTTP_USER_AGENT":"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:140.0) Gecko/20100101 Firefox/140.0","HTTP_ACCEPT":"application/json, text/plain, */*","HTTP_ACCEPT_LANGUAGE":"en-US,en;q=0.5","HTTP_ACCEPT_ENCODING":"gzip, deflate, br, zstd","HTTP_REFERER":"http://localhost:3000/datasets/3-tenant-user","HTTP_X_CSRF_TOKEN":"VF4JQiJ7Ysjd7rhgu4Che2oefKdUVRSeega3/moDAKn+SkJ65b0eUitdJxm0uo0utjU/jW5jZV7MzHN00uJHDQ==","HTTP_CLIENT_TIMEZONE":"Asia/Ho_Chi_Minh","HTTP_X_HOLISTICS_AML_ENV":"live","HTTP_TRACEPARENT":"00-801c0fa046105790565c44d258e9f2bd-3f1686753ff01997-01","HTTP_X_HOLISTICS_API_VERSION":"20250605154529","HTTP_X_HOLISTICS_USE_SESSION_AUTH":"1","HTTP_CONNECTION":"keep-alive","HTTP_COOKIE":"BetterErrors-has-used-console=true; remember_user_token=eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaGJDRnNHYVFaSklpSWtNbUVrTVRBa1ZGcDFkMGxhT1dsTmN6Vm1aV0ZvUWtaT2VEQnNMZ1k2QmtWVVNTSVhNVGMxTWpBek5UZzBNaTQxTWpNNU9EWXpCanNBUmc9PSIsImV4cCI6IjIwMjUtMDctMjNUMDQ6Mzc6MjIuNTI0WiIsInB1ciI6ImNvb2tpZS5yZW1lbWJlcl91c2VyX3Rva2VuIn19--ddb974e791b2fc4cf61f2b8bd81d7e141377e1a0; sign_in_method=7Ob5g8ogbiPopX1yXrk7otqYkXAsM%2BD0cONPLzoC%2B92GZOnblu521PJTEJ846UEhLuXKbkrSSVPsOXfC4cF4QMqiE5jhyfoUGHOldH0xHKEp3rZPqgxiw3vwv47vQgNs4G1QPHr1ghldWfH%2F60hqQA%3D%3D--ahPraug%2FDDLA0WUP--Ct5l3%2F6f%2FWm0lfN1shb8oA%3D%3D; _holistics_session=7bmCoenKqvuSrLV1F9aQgFKEKw6bx4ztDTZDnvLdRCbbqWEbMxC1TlwBbW3aqn%2B043ayGQLA984%2BUVZ%2FJoPL2NEFsZlW3WivoxCIneJKleUevOGtuknbgHWbJaz%2BWkyJxWAkDG06RBXJMw7aNGDwfhhwzCFgzjM0dVTgsYN3RPJQ%2F2lV01KHJy4ISY0z4%2BLtGz%2BtH1jJtHG4Am2GumbftYjkXzCNUEeduEJeXHDZQWGC7rNF5Lz1MG0m5mWFshn%2FbA9p%2FQYE6s8ZIUH%2F5MeiKj9h%2BI72GMBqA%2BLyb%2F%2Ft7f4abOJfotUmW8m2Faw0b7GGgej3nUu264uSXaqtrk%2FU8NPv%2BMDW6NJAQ05Ee4BrmZR0HExgbl1qjXvKRW537XCwVpPuiiFJBSzYZj7N1udqJbwqEmtjLPuC2uzqv1DKPA8wcr1jCRXFrWrCxtkaj2MkrXaX5vrjWkD6JKThecMNhUHUB9MmyutDdINXWWqvRuQkvZjTLcow7clF0z4KVB%2B0xtLZTt%2Fku2Oaj5Yru2XaIFrBwbsYJiOLxLcclMbYr2WYgw%3D%3D--ZyyTwfbINLjzMIMP--UUle%2FrNgF%2BuRaawCokZ6lw%3D%3D; BetterErrors-2.10.1-CSRF-Token=c1ebddd0-800d-484b-a929-47e2e3733e31","HTTP_SEC_FETCH_DEST":"empty","HTTP_SEC_FETCH_MODE":"cors","HTTP_SEC_FETCH_SITE":"same-origin","HTTP_IF_NONE_MATCH":"W/\"9ad27fe7037ff9392bf0b6bae4fcc19a\"","SERVER_NAME":"localhost","SERVER_PORT":"3000","PATH_INFO":"/api/v2/ai/answer","REMOTE_ADDR":"127.0.0.1","HTTP_VERSION":"HTTP/1.1","ROUTES_93700_SCRIPT_NAME":"","ORIGINAL_FULLPATH":"/api/v2/ai/answer?job_id=432","ORIGINAL_SCRIPT_NAME":"","HTTP_X_HOLISTICS_SHAREABLE_HASHCODE":null,"HTTP_X_HOLISTICS_EMBED_ID":null,"HTTP_X_HOLISTICS_EMBED_TOKEN":null,"CONTENT_TYPE":"application/json"},"format":"json","method":"GET","path":"/api/v2/ai/answer?job_id=432","response":"Not JSON Encodable","status":200,"view_runtime":0.12129900278523564,"db_runtime":1.3814570265822113,"user_id":1,"tenant_id":1,"auth_method":"session"},"time":"2025-07-18T17:46:52.832+07:00","transaction_id":"d5b6a5cde3d8ef9c6a68","end":"2025-07-18T17:46:52.847+07:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":15.528329000000001}]